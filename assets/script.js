// Generated by CoffeeScript 1.9.3
(function() {
  var about, delay, process_markdown;

  delay = (function() {
    var timer;
    timer = 0;
    return function(callback, ms) {
      clearTimeout(timer);
      return timer = setTimeout(callback, ms);
    };
  })();

  process_markdown = function() {
    return $.post("http://rubymarkdownbattle.herokuapp.com/", {
      options: $("#options").serialize(),
      text: $("#markdown > textarea").val()
    }, function(data, textStatus, jqXHR) {
      $("#html").html(data["renderHTML"]);
      return $("#render-time").html("render time: " + (parseFloat(data["renderTime"]).toFixed(2)) + " ms");
    }, "json");
  };

  $(function() {
    process_markdown();
    $("#markdown > textarea").keydown(function() {
      return delay((function() {
        return process_markdown();
      }), 1000);
    });
    $("form table input").change(function() {
      return process_markdown();
    });
    $("#processor").change(function() {
      var i, len, processor, ref;
      process_markdown();
      ref = $("#processor option");
      for (i = 0, len = ref.length; i < len; i++) {
        processor = ref[i];
        $("#" + processor.value).hide();
      }
      processor = $("#processor option:selected").val();
      return $("#" + processor).show();
    });
    return $("#about").click(function() {
      $("#markdown > textarea").val(about);
      $("#processor").val("redcarpet").change();
      $("[name='redcarpet:autolink']").attr('checked', true);
      $("[name='redcarpet:lax_spacing']").attr('checked', true);
      return $("[name='redcarpet:tables']").attr('checked', true).change();
    });
  });

  about = "Ruby Markdown Battle\n====================\n\nWhy?\n----\nRuby Markdown Battle was created so that I could easily compare and contrast Ruby Markdown implementations and determine which one was the most suited for my needs. It evolved from a series of scripts into this website.\n\nWhat?\n-----\nThe four gems that are currently compared here are:\n* redcarpet: https://github.com/vmg/redcarpet\n* rdiscount: https://github.com/davidfstr/rdiscount\n* kramdown: https://github.com/gettalong/kramdown\n* maruku: https://github.com/bhollis/maruku\n\nAnd?\n----\nHere is a simplified list of features that I've compared and taken into account for my applications:\n\n|           | LaTeX | Easily Extensible | Markdown Extra |\n|-----------|:-----:|:-----------------:|:--------------:|\n| redcarpet |       |         X         |        X       |\n| rdiscount |       |                   |        X       |\n| kramdown  |   X   |                   |        X       |\n| maruku    |   X   |                   |        X       |\n\nEach implementation had something notable to mention:\n<dl>\n  <dt>Redcarpet</dt>\n  <dd>Maintained by Github</dd>\n  <dd>Uses Sundown Processor</dd>\n  <dd>Standalone SmartyPants Implementation</dd>\n\n  <dt>RDiscount</dt>\n  <dd>Uses Discount Processor</dd>\n\n  <dt>Kramdown</dt>\n  <dd>Built in CodeRay integration</dd>\n  <dd>All PHP Markdown Extra Features</dd>\n\n  <dt>Maruku</dt>\n  <dd>Inline Latex Math</dd>\n  <dd>All PHP Markdown Extra Features</dd>  \n</dl>\n\n\nContact\n-------\nI'm sure there are mistakes in my code or documentation. If you find any, please submit a [pull request]() or email me at: me@kevinformatics.com.\n\nMarkdown Stylesheet\n-------------------\nThe CSS used to style the the resultant HTML is originally from Github, but sourced from Andy Ferra (https://gist.github.com/andyferra/2554919).";

}).call(this);
